!function(l){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return l(e,window,document)}):"object"==typeof exports?module.exports=function(e,t){return e=e||window,t&&t.fn.dataTable||(t=require("datatables.net")(e,t).$),l(t,e,e.document)}:l(jQuery,window,document)}(function(f,d,e,m){"use strict";var h=f.fn.dataTable;function i(c,e,t){function l(t,l){if(l<t){var e=l;l=t,t=e}var s=!1;return c.columns(":visible").indexes().filter(function(e){return e===t&&(s=!0),e===l?!(s=!1):s})}function s(t,l){var e=c.rows({search:"applied"}).indexes();if(e.indexOf(t)>e.indexOf(l)){var s=l;l=t,t=s}var n=!1;return e.filter(function(e){return e===t&&(n=!0),e===l?!(n=!1):n})}var n,a,o;o=c.cells({selected:!0}).any()||t?(a=l(t.column,e.column),s(t.row,e.row)):(a=l(0,e.column),s(0,e.row)),n=c.cells(o,a).flatten(),c.cells(e,{selected:!0}).any()?c.cells(n).deselect():c.cells(n).select()}function s(e){var t=e.settings()[0]._select.selector;f(e.table().container()).off("mousedown.dtSelect",t).off("mouseup.dtSelect",t).off("click.dtSelect",t),f("body").off("click.dtSelect"+e.table().node().id)}function n(r){var u,t=f(r.table().container()),l=r.settings()[0],s=l._select.selector;t.on("mousedown.dtSelect",s,function(e){(e.shiftKey||e.metaKey||e.ctrlKey)&&t.css("-moz-user-select","none").one("selectstart.dtSelect",s,function(){return!1}),d.getSelection&&(u=d.getSelection())}).on("mouseup.dtSelect",s,function(){t.css("-moz-user-select","")}).on("click.dtSelect",s,function(e){var t,l=r.select.items();if(d.getSelection){var s=d.getSelection();if((!s.anchorNode||f(s.anchorNode).closest("table")[0]===r.table().node())&&s!==u)return}var n=r.settings()[0],c=r.settings()[0].oClasses.sWrapper.replace(/ /g,".");if(f(e.target).closest("div."+c)[0]==r.table().container()){var a=r.cell(f(e.target).closest("td, th"));if(a.any()){var o=f.Event("user-select.dt");if(_(r,o,[l,a,e]),!o.isDefaultPrevented()){var i=a.index();"row"===l?(t=i.row,p(e,r,n,"row",t)):"column"===l?(t=a.index().column,p(e,r,n,"column",t)):"cell"===l&&(t=a.index(),p(e,r,n,"cell",t)),n._select_lastCell=i}}}}),f("body").on("click.dtSelect"+r.table().node().id,function(e){if(l._select.blurable){if(f(e.target).parents().filter(r.table().container()).length)return;if(0===f(e.target).parents("html").length)return;if(f(e.target).parents("div.DTE").length)return;a(l,!0)}})}function _(e,t,l,s){s&&!e.flatten().length||("string"==typeof t&&(t+=".dt"),l.unshift(e),f(e.table().node()).trigger(t,l))}function c(s){var e=s.settings()[0];if(e._select.info&&e.aanFeatures.i&&"api"!==s.select.style()){var n=s.rows({selected:!0}).flatten().length,c=s.columns({selected:!0}).flatten().length,a=s.cells({selected:!0}).flatten().length,o=function(e,t,l){e.append(f('<span class="select-item"/>').append(s.i18n("select."+t+"s",{_:"%d "+t+"s selected",0:"",1:"1 "+t+" selected"},l)))};f.each(e.aanFeatures.i,function(e,t){t=f(t);var l=f('<span class="select-info"/>');o(l,"row",n),o(l,"column",c),o(l,"cell",a);var s=t.children("span.select-info");s.length&&s.remove(),""!==l.text()&&t.append(l)})}}function r(e,t,l,s){var n=e[t+"s"]({search:"applied"}).indexes(),c=f.inArray(s,n),a=f.inArray(l,n);if(e[t+"s"]({selected:!0}).any()||-1!==c){if(a<c){var o=a;a=c,c=o}n.splice(a+1,n.length),n.splice(0,c)}else n.splice(f.inArray(l,n)+1,n.length);e[t](l,{selected:!0}).any()?(n.splice(f.inArray(l,n),1),e[t+"s"](n).deselect()):e[t+"s"](n).select()}function a(e,t){if(t||"single"===e._select.style){var l=new h.Api(e);l.rows({selected:!0}).deselect(),l.columns({selected:!0}).deselect(),l.cells({selected:!0}).deselect()}}function p(e,t,l,s,n){var c=t.select.style(),a=t[s](n,{selected:!0}).any();if("os"===c)if(e.ctrlKey||e.metaKey)t[s](n).select(!a);else if(e.shiftKey)"cell"===s?i(t,n,l._select_lastCell||null):r(t,s,n,l._select_lastCell?l._select_lastCell[s]:null);else{var o=t[s+"s"]({selected:!0});a&&1===o.flatten().length?t[s](n).deselect():(o.deselect(),t[s](n).select())}else"multi+shift"==c&&e.shiftKey?"cell"===s?i(t,n,l._select_lastCell||null):r(t,s,n,l._select_lastCell?l._select_lastCell[s]:null):t[s](n).select(!a)}h.select={},h.select.version="1.2.7",h.select.init=function(e){var t=e.settings()[0],l=t.oInit.select,s=h.defaults.select,n=l===m?s:l,c="row",a="api",o=!1,i=!0,r="td, th",u="selected",d=!1;t._select={},!0===n?(a="os",d=!0):"string"==typeof n?(a=n,d=!0):f.isPlainObject(n)&&(n.blurable!==m&&(o=n.blurable),n.info!==m&&(i=n.info),n.items!==m&&(c=n.items),n.style!==m&&(a=n.style,d=!0),n.selector!==m&&(r=n.selector),n.className!==m&&(u=n.className)),e.select.selector(r),e.select.items(c),e.select.style(a),e.select.blurable(o),e.select.info(i),t._select.className=u,f.fn.dataTable.ext.order["select-checkbox"]=function(t,e){return this.api().column(e,{order:"index"}).nodes().map(function(e){return"row"===t._select.items?f(e).parent().hasClass(t._select.className):"cell"===t._select.items&&f(e).hasClass(t._select.className)})},!d&&f(e.table().node()).hasClass("selectable")&&e.select.style("os")},f.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(e,i){h.ext.selector[i.type].push(function(e,t,l){var s,n=t.selected,c=[];if(!0!==n&&!1!==n)return l;for(var a=0,o=l.length;a<o;a++)s=e[i.prop][l[a]],(!0===n&&!0===s._select_selected||!1===n&&!s._select_selected)&&c.push(l[a]);return c})}),h.ext.selector.cell.push(function(e,t,l){var s,n=t.selected,c=[];if(n===m)return l;for(var a=0,o=l.length;a<o;a++)s=e.aoData[l[a].row],(!0!==n||!s._selected_cells||!0!==s._selected_cells[l[a].column])&&(!1!==n||s._selected_cells&&s._selected_cells[l[a].column])||c.push(l[a]);return c});var t=h.Api.register,l=h.Api.registerPlural;function o(t,l){return function(e){return e.i18n("buttons."+t,l)}}function u(e){var t=e._eventNamespace;return"draw.dt.DT"+t+" select.dt.DT"+t+" deselect.dt.DT"+t}t("select()",function(){return this.iterator("table",function(e){h.select.init(new h.Api(e))})}),t("select.blurable()",function(t){return t===m?this.context[0]._select.blurable:this.iterator("table",function(e){e._select.blurable=t})}),t("select.info()",function(t){return c===m?this.context[0]._select.info:this.iterator("table",function(e){e._select.info=t})}),t("select.items()",function(t){return t===m?this.context[0]._select.items:this.iterator("table",function(e){e._select.items=t,_(new h.Api(e),"selectItems",[t])})}),t("select.style()",function(l){return l===m?this.context[0]._select.style:this.iterator("table",function(e){e._select.style=l,e._select_init||function(a){var l=new h.Api(a);a.aoRowCreatedCallback.push({fn:function(e,t,l){var s,n,c=a.aoData[l];for(c._select_selected&&f(e).addClass(a._select.className),s=0,n=a.aoColumns.length;s<n;s++)(a.aoColumns[s]._select_selected||c._selected_cells&&c._selected_cells[s])&&f(c.anCells[s]).addClass(a._select.className)},sName:"select-deferRender"}),l.on("preXhr.dt.dtSelect",function(){var e=l.rows({selected:!0}).ids(!0).filter(function(e){return e!==m}),t=l.cells({selected:!0}).eq(0).map(function(e){var t=l.row(e.row).id(!0);return t?{row:t,column:e.column}:m}).filter(function(e){return e!==m});l.one("draw.dt.dtSelect",function(){l.rows(e).select(),t.any()&&t.each(function(e){l.cells(e.row,e.column).select()})})}),l.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt info.dt",function(){c(l)}),l.on("destroy.dtSelect",function(){s(l),l.off(".dtSelect")})}(e);var t=new h.Api(e);s(t),"api"!==l&&n(t),_(new h.Api(e),"selectStyle",[l])})}),t("select.selector()",function(t){return t===m?this.context[0]._select.selector:this.iterator("table",function(e){s(new h.Api(e)),e._select.selector=t,"api"!==e._select.style&&n(new h.Api(e))})}),l("rows().select()","row().select()",function(e){var l=this;return!1===e?this.deselect():(this.iterator("row",function(e,t){a(e),e.aoData[t]._select_selected=!0,f(e.aoData[t].nTr).addClass(e._select.className)}),this.iterator("table",function(e,t){_(l,"select",["row",l[t]],!0)}),this)}),l("columns().select()","column().select()",function(e){var l=this;return!1===e?this.deselect():(this.iterator("column",function(e,t){a(e),e.aoColumns[t]._select_selected=!0;var l=new h.Api(e).column(t);f(l.header()).addClass(e._select.className),f(l.footer()).addClass(e._select.className),l.nodes().to$().addClass(e._select.className)}),this.iterator("table",function(e,t){_(l,"select",["column",l[t]],!0)}),this)}),l("cells().select()","cell().select()",function(e){var l=this;return!1===e?this.deselect():(this.iterator("cell",function(e,t,l){a(e);var s=e.aoData[t];s._selected_cells===m&&(s._selected_cells=[]),s._selected_cells[l]=!0,s.anCells&&f(s.anCells[l]).addClass(e._select.className)}),this.iterator("table",function(e,t){_(l,"select",["cell",l[t]],!0)}),this)}),l("rows().deselect()","row().deselect()",function(){var l=this;return this.iterator("row",function(e,t){e.aoData[t]._select_selected=!1,f(e.aoData[t].nTr).removeClass(e._select.className)}),this.iterator("table",function(e,t){_(l,"deselect",["row",l[t]],!0)}),this}),l("columns().deselect()","column().deselect()",function(){var l=this;return this.iterator("column",function(s,e){s.aoColumns[e]._select_selected=!1;var t=new h.Api(s),l=t.column(e);f(l.header()).removeClass(s._select.className),f(l.footer()).removeClass(s._select.className),t.cells(null,e).indexes().each(function(e){var t=s.aoData[e.row],l=t._selected_cells;!t.anCells||l&&l[e.column]||f(t.anCells[e.column]).removeClass(s._select.className)})}),this.iterator("table",function(e,t){_(l,"deselect",["column",l[t]],!0)}),this}),l("cells().deselect()","cell().deselect()",function(){var l=this;return this.iterator("cell",function(e,t,l){var s=e.aoData[t];s._selected_cells[l]=!1,s.anCells&&!e.aoColumns[l]._select_selected&&f(s.anCells[l]).removeClass(e._select.className)}),this.iterator("table",function(e,t){_(l,"deselect",["cell",l[t]],!0)}),this});var v=0;return f.extend(h.ext.buttons,{selected:{text:o("selected","Selected"),className:"buttons-selected",limitTo:["rows","columns","cells"],init:function(e,t,l){var s=this;l._eventNamespace=".select"+v++,e.on(u(l),function(){s.enable(function(e,t){return!(-1===f.inArray("rows",t.limitTo)||!e.rows({selected:!0}).any())||(!(-1===f.inArray("columns",t.limitTo)||!e.columns({selected:!0}).any())||!(-1===f.inArray("cells",t.limitTo)||!e.cells({selected:!0}).any()))}(e,l))}),this.disable()},destroy:function(e,t,l){e.off(l._eventNamespace)}},selectedSingle:{text:o("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(t,e,l){var s=this;l._eventNamespace=".select"+v++,t.on(u(l),function(){var e=t.rows({selected:!0}).flatten().length+t.columns({selected:!0}).flatten().length+t.cells({selected:!0}).flatten().length;s.enable(1===e)}),this.disable()},destroy:function(e,t,l){e.off(l._eventNamespace)}},selectAll:{text:o("selectAll","Select all"),className:"buttons-select-all",action:function(){var e=this.select.items();this[e+"s"]().select()}},selectNone:{text:o("selectNone","Deselect all"),className:"buttons-select-none",action:function(){a(this.settings()[0],!0)},init:function(t,e,l){var s=this;l._eventNamespace=".select"+v++,t.on(u(l),function(){var e=t.rows({selected:!0}).flatten().length+t.columns({selected:!0}).flatten().length+t.cells({selected:!0}).flatten().length;s.enable(0<e)}),this.disable()},destroy:function(e,t,l){e.off(l._eventNamespace)}}}),f.each(["Row","Column","Cell"],function(e,t){var n=t.toLowerCase();h.ext.buttons["select"+t+"s"]={text:o("select"+t+"s","Select "+n+"s"),className:"buttons-select-"+n+"s",action:function(){this.select.items(n)},init:function(e){var s=this;e.on("selectItems.dt.DT",function(e,t,l){s.active(l===n)})}}}),f(e).on("preInit.dt.dtSelect",function(e,t){"dt"===e.namespace&&h.select.init(new h.Api(t))}),h.select});