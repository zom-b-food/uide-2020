!function(c){"use strict";function i(a,t){this.options=t,this.$tabs=c(a),this._accordionVisible=!1,this._initAccordion(),this._checkStateOnResize();var e=this;setTimeout(function(){e.checkState()},0)}i.DEFAULTS={accordionClass:"visible-xs",tabsClass:"hidden-xs",accordionTemplate:function(a,t,e,s){return'<div class="panel panel-default">   <div class="panel-heading">      <h4 class="panel-title">      </h4>   </div>   <div id="'+t+'" class="panel-collapse collapse '+(s?"in":"")+'">       <div class="panel-body js-tabcollapse-panel-body">       </div>   </div></div>'}},i.prototype.checkState=function(){this.$tabs.is(":visible")&&this._accordionVisible?(this.showTabs(),this._accordionVisible=!1):this.$accordion.is(":visible")&&!this._accordionVisible&&(this.showAccordion(),this._accordionVisible=!0)},i.prototype.showTabs=function(){var s=this;this.$tabs.trigger(c.Event("show-tabs.bs.tabcollapse")),this.$accordion.find(".js-tabcollapse-panel-heading").detach().each(function(){var a=c(this),t=a.data("bs.tabcollapse.parentLi"),e=s._panelHeadingToTabHeading(a);t.removeClass("active"),t.parent().hasClass("dropdown-menu")&&!t.siblings("li").hasClass("active")&&t.parent().parent().removeClass("active"),e.hasClass("collapsed")?e.removeClass("collapsed"):(t.addClass("active"),t.parent().hasClass("dropdown-menu")&&t.parent().parent().addClass("active")),t.append(a)}),c("li").hasClass("active")||c("li").first().addClass("active"),this.$accordion.find(".js-tabcollapse-panel-body").each(function(){var a=c(this);a.data("bs.tabcollapse.tabpane").append(a.children("*").detach())}),this.$accordion.html(""),this.options.updateLinks&&(c(this.options.tabContentSelector)||this.$tabs.siblings(".tab-content")).find('[data-toggle-was="tab"], [data-toggle-was="pill"]').each(function(){var a=c(this),t=a.attr("href").replace(/-collapse$/g,"");a.attr({"data-toggle":a.attr("data-toggle-was"),"data-toggle-was":"","data-parent":"",href:t})});this.$tabs.trigger(c.Event("shown-tabs.bs.tabcollapse"))},i.prototype.showAccordion=function(){this.$tabs.trigger(c.Event("show-accordion.bs.tabcollapse"));var a=this.$tabs.find('li:not(.dropdown) [data-toggle="tab"], li:not(.dropdown) [data-toggle="pill"]'),e=this;if(a.each(function(){var a=c(this),t=a.parent();a.data("bs.tabcollapse.parentLi",t),e.$accordion.append(e._createAccordionGroup(e.$accordion.attr("id"),a.detach()))}),this.options.updateLinks){var s=this.$accordion.attr("id");this.$accordion.find(".js-tabcollapse-panel-body").find('[data-toggle="tab"], [data-toggle="pill"]').each(function(){var a=c(this),t=a.attr("href")+"-collapse";a.attr({"data-toggle-was":a.attr("data-toggle"),"data-toggle":"collapse","data-parent":"#"+s,href:t})})}this.$tabs.trigger(c.Event("shown-accordion.bs.tabcollapse"))},i.prototype._panelHeadingToTabHeading=function(a){var t=a.attr("href").replace(/-collapse$/g,"");return a.attr({"data-toggle":"tab",href:t,"data-parent":""}),a},i.prototype._tabHeadingToPanelHeading=function(a,t,e,s){return a.addClass("js-tabcollapse-panel-heading "+(s?"":"collapsed")),a.attr({"data-toggle":"collapse","data-parent":"#"+e,href:"#"+t}),a},i.prototype._checkStateOnResize=function(){var a=this;c(window).resize(function(){clearTimeout(a._resizeTimeout),a._resizeTimeout=setTimeout(function(){a.checkState()},100)})},i.prototype._initAccordion=function(){this.$accordion=c('<div class="panel-group '+this.options.accordionClass+'" id="'+this.$tabs.attr("id")+'-accordion"></div>'),this.$tabs.after(this.$accordion),this.$tabs.addClass(this.options.tabsClass),(c(this.options.tabContentSelector)||this.$tabs.siblings(".tab-content")).addClass(this.options.tabsClass)},i.prototype._createAccordionGroup=function(a,t){var e=t.attr("data-target"),s=t.data("bs.tabcollapse.parentLi").is(".active");e||(e=(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]*$)/,""));var i=c(e),o=i.attr("id")+"-collapse",n=c(this.options.accordionTemplate(t,o,a,s));return n.find(".panel-heading > .panel-title").append(this._tabHeadingToPanelHeading(t,o,a,s)),n.find(".panel-body").append(i.children("*").detach()).data("bs.tabcollapse.tabpane",i),n},c.fn.tabCollapse=function(s){return this.each(function(){var a=c(this),t=a.data("bs.tabcollapse"),e=c.extend({},i.DEFAULTS,a.data(),"object"==typeof s&&s);t||a.data("bs.tabcollapse",new i(this,e))})},c.fn.tabCollapse.Constructor=i}(window.jQuery);