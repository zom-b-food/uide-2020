window.Modernizr=function(t,f,r){function e(t){p.cssText=t}function o(t,e){return typeof t===e}function a(t,e){for(var i in t){var n=t[i];if(!~(""+n).indexOf("-")&&p[n]!==r)return"pfx"!=e||n}return!1}function n(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),s=(t+" "+v.join(n+" ")+n).split(" ");return o(e,"string")||o(e,"undefined")?a(s,e):function(t,e,i){for(var n in t){var s=e[t[n]];if(s!==r)return!1===i?t[n]:o(s,"function")?s.bind(i||e):s}return!1}(s=(t+" "+_.join(n+" ")+n).split(" "),e,i)}function s(t,e,i,n){var s,r,o,a,l=f.createElement("div"),u=f.body,c=u||f.createElement("body");if(parseInt(i,10))for(;i--;)(o=f.createElement("div")).id=n?n[i]:h+(i+1),l.appendChild(o);return s=["&#173;",'<style id="s',h,'">',t,"</style>"].join(""),l.id=h,(u?l:c).innerHTML+=s,c.appendChild(l),u||(c.style.background="",c.style.overflow="hidden",a=d.style.overflow,d.style.overflow="hidden",d.appendChild(c)),r=e(l,t),u?l.parentNode.removeChild(l):(c.parentNode.removeChild(c),d.style.overflow=a),!!r}var i,l,u={},d=f.documentElement,h="modernizr",c=f.createElement(h),p=c.style,m=" -webkit- -moz- -o- -ms- ".split(" "),y="Webkit Moz O ms",v=y.split(" "),_=y.toLowerCase().split(" "),g={},C=[],$=C.slice,b={}.hasOwnProperty;for(var w in l=o(b,"undefined")||o(b.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return b.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(n){var s=this;if("function"!=typeof s)throw new TypeError;var r=$.call(arguments,1),o=function(){if(this instanceof o){function t(){}t.prototype=s.prototype;var e=new t,i=s.apply(e,r.concat($.call(arguments)));return Object(i)===i?i:e}return s.apply(n,r.concat($.call(arguments)))};return o}),g.csstransforms=function(){return!!n("transform")},g.csstransforms3d=function(){var i=!!n("perspective");return i&&"webkitPerspective"in d.style&&s("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,e){i=9===t.offsetLeft&&3===t.offsetHeight}),i},g.csstransitions=function(){return n("transition")},g)l(g,w)&&(i=w.toLowerCase(),u[i]=g[w](),C.push((u[i]?"":"no-")+i));return u.addTest=function(t,e){if("object"==typeof t)for(var i in t)l(t,i)&&u.addTest(i,t[i]);else{if(t=t.toLowerCase(),u[t]!==r)return u;e="function"==typeof e?e():e,d.className+=" "+(e?"":"no-")+t,u[t]=e}return u},e(""),c=null,u._version="2.6.2",u._prefixes=m,u._domPrefixes=_,u._cssomPrefixes=v,u.testProp=function(t){return a([t])},u.testAllProps=n,u.testStyles=s,u.prefixed=function(t,e,i){return e?n(t,e,i):n(t,"pfx")},d.className=d.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+C.join(" "),u}(0,this.document),function(t,c){var n,e=t.jQuery||t.Cowboy||(t.Cowboy={});e.throttle=n=function(s,r,o,a){var l,u=0;function t(){var t=this,e=+new Date-u,i=arguments;function n(){u=+new Date,o.apply(t,i)}a&&!l&&n(),l&&clearTimeout(l),a===c&&s<e?n():!0!==r&&(l=setTimeout(a?function(){l=c}:n,a===c?s-e:s))}return"boolean"!=typeof r&&(a=o,o=r,r=c),e.guid&&(t.guid=o.guid=o.guid||e.guid++),t},e.debounce=function(t,e,i){return i===c?n(t,e,!1):n(t,i,!1!==e)}}(this),function(d,t,o){"use strict";d.fn.sorted=function(t){var s=d.extend({},d.fn.sorted.defaults,t),e=this.get(),r=!1;return e.length?s.randomize?d.fn.sorted.randomize(e):(s.by!==d.noop&&null!==s.by&&s.by!==o&&e.sort(function(t,e){if(r)return 0;var i=s.by(d(t)),n=s.by(d(e));return i===o&&n===o?(r=!0,0):"sortFirst"===i||"sortLast"===n?-1:"sortLast"===i||"sortFirst"===n?1:i<n?-1:n<i?1:0}),r?this.get():(s.reverse&&e.reverse(),e)):[]},d.fn.sorted.defaults={reverse:!1,by:null,randomize:!1},d.fn.sorted.randomize=function(t){var e,i,n=t.length;if(!n)return t;for(;--n;)e=t[i=Math.floor(Math.random()*(n+1))],t[i]=t[n],t[n]=e;return t};var n=0,s=function(t,e){var i=this;d.extend(i,s.options,e,s.settings),i.$container=t,i.$window=d(window),i.unique="shuffle_"+n++,i._fire("loading"),i._init(),i._fire("done")};s.prototype={_init:function(){var t,e=this,i=d.proxy(e._onResize,e),n=e.throttle?e.throttle(e.throttleTime,i):i,s=e.initialSort?e.initialSort:null;e._setVars(),e._resetCols(),e._addClasses(),e._initItems(),e.$window.on("resize.shuffle."+e.unique,n),"static"===(t=e.$container.css(["paddingLeft","paddingRight","position","width"])).position&&e.$container.css("position","relative"),e.offset={left:parseInt(t.paddingLeft,10)||0,top:parseInt(t.paddingTop,10)||0},e._setColumns(parseInt(t.width,10)),e.shuffle(e.group,s),e.supported&&setTimeout(function(){e._setTransitions(),e.$container[0].style[e.transitionName]="height "+e.speed+"ms "+e.easing},0)},_addClasses:function(){return this.$container.addClass("shuffle"),this.$items.addClass("shuffle-item filtered"),this},_setVars:function(){var t=this;return t.$items=t._getItems(),t.transitionName=t.prefixed("transition"),t.transitionDelayName=t.prefixed("transitionDelay"),t.transitionDuration=t.prefixed("transitionDuration"),t.transform=t.getPrefixed("transform"),t.transitionend={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[t.transitionName],t.isFluid=t.columnWidth&&"function"==typeof t.columnWidth,0===t.columnWidth&&null!==t.sizer&&(t.columnWidth=t.sizer),"string"==typeof t.columnWidth?t.$sizer=t.$container.find(t.columnWidth):t.columnWidth&&t.columnWidth.nodeType&&1===t.columnWidth.nodeType?t.$sizer=d(t.columnWidth):t.columnWidth&&t.columnWidth.jquery&&(t.$sizer=t.columnWidth),t.$sizer&&t.$sizer.length&&(t.useSizer=!0,t.sizer=t.$sizer[0]),t},_filter:function(n,t){var s=this,e=t!==o?t:s.$items,r=d();return n=n||s.lastFilter,s._fire("filter"),d.isFunction(n)?e.each(function(){var t=d(this);n.call(t[0],t,s)&&(r=r.add(t))}):"all"!==(s.group=n)?e.each(function(){var t=d(this),e=t.data("groups"),i=s.delimeter&&!d.isArray(e)?e.split(s.delimeter):e;-1<d.inArray(n,i)&&(r=r.add(t))}):r=e,s._toggleFilterClasses(e,r),t=e=null,r},_toggleFilterClasses:function(t,e){var i="concealed",n="filtered";t.filter(e).each(function(){var t=d(this);t.hasClass(i)&&t.removeClass(i),t.hasClass(n)||t.addClass(n)}),t.not(e).each(function(){var t=d(this);t.hasClass(i)||t.addClass(i),t.hasClass(n)&&t.removeClass(n)})},_initItems:function(t){return(t=t||this.$items).css(this.itemCss)},_updateItemCount:function(){return this.visibleItems=this.$items.filter(".filtered").length,this},_setTransition:function(t){var e=this;return t.style[e.transitionName]=e.transform+" "+e.speed+"ms "+e.easing+", opacity "+e.speed+"ms "+e.easing,t},_setTransitions:function(t){var e=this;return(t=t||e.$items).each(function(){e._setTransition(this)}),e},_setSequentialDelay:function(t){var e=this;e.supported&&d.each(t,function(t){this.style[e.transitionDelayName]="0ms,"+(t+1)*e.sequentialFadeDelay+"ms",d(this).one(e.transitionend,function(){this.style[e.transitionDelayName]="0ms"})})},_getItems:function(){return this.$container.children(this.itemSelector)},_getPreciseDimension:function(t,e){var i;return i=window.getComputedStyle?window.getComputedStyle(t,null)[e]:d(t).css(e),parseFloat(i)},_setColumns:function(t){var e,i=this,n=t||i.$container.width(),s="function"==typeof i.gutterWidth?i.gutterWidth(n):i.useSizer?i._getPreciseDimension(i.sizer,"marginLeft"):i.gutterWidth;i.colWidth=i.isFluid?i.columnWidth(n):i.useSizer?i._getPreciseDimension(i.sizer,"width"):i.columnWidth||i.$items.outerWidth(!0)||n,i.colWidth=i.colWidth||n,i.colWidth+=s,e=(n+s)/i.colWidth,Math.ceil(e)-e<.01&&(e=Math.ceil(e)),i.cols=Math.floor(e),i.cols=Math.max(i.cols,1),i.containerWidth=n},_setContainerSize:function(){var t=Math.max.apply(Math,this.colYs);this.$container.css("height",t+"px")},_fire:function(t,e){this.$container.trigger(t+".shuffle",e&&e.length?e:[this])},_layout:function(a,l,u,c){var f=this;l=l||f.filterEnd,f.layoutTransitionEnded=!1,d.each(a,function(t){var e=d(a[t]),i=Math.ceil(e.outerWidth(!0)/f.colWidth);if(1===(i=Math.min(i,f.cols)))f._placeItem(e,f.colYs,l,u,c);else{var n,s,r=f.cols+1-i,o=[];for(s=0;s<r;s++)n=f.colYs.slice(s,s+i),o[s]=Math.max.apply(Math,n);f._placeItem(e,o,l,u,c)}}),f._processStyleQueue(),f._setContainerSize()},_resetCols:function(){var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0)},_reLayout:function(t,e){var i=this;t=t||i.filterEnd,i._resetCols(),i.keepSorted&&i.lastSort?i.sort(i.lastSort,!0,e):i._layout(i.$items.filter(".filtered").get(),i.filterEnd,e)},_placeItem:function(t,e,i,n,s){for(var r=this,o=Math.min.apply(Math,e),a=0,l=0,u=e.length;l<u;l++)if(e[l]>=o-r.buffer&&e[l]<=o+r.buffer){a=l;break}var c=r.colWidth*a,f=o;c=Math.round(c+r.offset.left),f=Math.round(f+r.offset.top),t.data({x:c,y:f});var d=o+t.outerHeight(!0),h=r.cols+1-u;for(l=0;l<h;l++)r.colYs[a+l]=d;var p={from:"layout",$this:t,x:c,y:f,scale:1};n?p.skipTransition=!0:(p.opacity=1,p.callback=i),s&&(p.opacity=0),r.styleQueue.push(p)},_shrink:function(t,e){var i=this,n=t||i.$items.filter(".concealed"),s={},r=e||i.shrinkEnd;n.length&&(i._fire("shrink"),i.shrinkTransitionEnded=!1,n.each(function(){var t=d(this),e=t.data();s={from:"shrink",$this:t,x:e.x,y:e.y,scale:.001,opacity:0,callback:r},i.styleQueue.push(s)}))},_onResize:function(){var t=this;!t.enabled||t.destroyed||t.$container.width()!==t.containerWidth&&t.resized()},setPrefixedCss:function(t,e,i){t.css(this.prefixed(e),i)},getPrefixed:function(t){var e=this.prefixed(t);return e?e.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-"):e},transition:function(t){function e(){n.layoutTransitionEnded||"layout"!==t.from?n.shrinkTransitionEnded||"shrink"!==t.from||(t.callback.call(n),n.shrinkTransitionEnded=!0):(n._fire("layout"),t.callback.call(n),n.layoutTransitionEnded=!0)}var i,n=this;if(t.callback=t.callback||d.noop,n.supported)t.scale===o&&(t.scale=1),i=n.threeD?"translate3d("+t.x+"px, "+t.y+"px, 0) scale3d("+t.scale+", "+t.scale+", 1)":"translate("+t.x+"px, "+t.y+"px) scale("+t.scale+", "+t.scale+")",t.x!==o&&n.setPrefixedCss(t.$this,"transform",i),t.opacity!==o&&t.$this.css("opacity",t.opacity),t.$this.one(n.transitionend,e);else{var s={left:t.x,top:t.y,opacity:t.opacity};t.$this.stop(!0).animate(s,n.speed,"swing",e)}},_processStyleQueue:function(){var i=this,t=i.styleQueue;d.each(t,function(t,e){e.skipTransition?i._skipTransition(e.$this[0],function(){i.transition(e)}):i.transition(e)}),i.styleQueue.length=0},shrinkEnd:function(){this._fire("shrunk")},filterEnd:function(){this._fire("filtered")},sortEnd:function(){this._fire("sorted")},_skipTransition:function(t,e,i){var n=this.transitionDuration,s=t.style[n];t.style[n]="0ms",d.isFunction(e)?e():t.style[e]=i,t.offsetWidth,t.style[n]=s},_addItems:function(t,e,i){var n,s,r=this;r.supported||(e=!1),t.addClass("shuffle-item"),r._initItems(t),r._setTransitions(t),r.$items=r._getItems(),t.css("opacity",0),s=(n=r._filter(o,t)).get(),r._updateItemCount(),e?(r._layout(s,null,!0,!0),i&&r._setSequentialDelay(n),r._revealAppended(n)):r._layout(s)},_revealAppended:function(t){var i=this;setTimeout(function(){t.each(function(t,e){i.transition({from:"reveal",$this:d(e),opacity:1})})},i.revealAppendedDelay)},shuffle:function(t,e){var i=this;i.enabled&&(t=t||"all",i._filter(t),i.lastFilter=t,i._updateItemCount(),i._resetCols(),i._shrink(),e&&(i.lastSort=e),i._reLayout())},sort:function(t,e,i){var n=this,s=n.$items.filter(".filtered").sorted(t);e||n._resetCols(),n._layout(s,function(){e&&n.filterEnd(),n.sortEnd()},i),n.lastSort=t},resized:function(t){this.enabled&&(t||this._setColumns(),this._reLayout())},layout:function(){this.update(!0)},update:function(t){this.resized(t)},appended:function(t,e,i){e=!1!==e,i=!1!==i,this._addItems(t,e,i)},disable:function(){this.enabled=!1},enable:function(t){!(this.enabled=!0)!==t&&this.update()},remove:function(e){if(e.length&&e.jquery){return this._shrink(e,function(){var t=this;e.remove(),setTimeout(function(){t.$items=t._getItems(),t.layout(),t._updateItemCount(),t._fire("removed",[e,t]),e=null},0)}),this._processStyleQueue(),this}},destroy:function(){var t=this;t.$window.off("."+t.unique),t.$container.removeClass("shuffle").removeAttr("style").removeData("shuffle"),t.$items.removeAttr("style").removeClass("concealed filtered shuffle-item"),t.destroyed=!0}},s.options={group:"all",speed:250,easing:"ease-out",itemSelector:"",sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,initialSort:null,throttle:d.throttle||null,throttleTime:300,sequentialFadeDelay:150,supported:t.csstransforms&&t.csstransitions},s.settings={$sizer:null,useSizer:!1,itemCss:{position:"absolute",top:0,left:0},offset:{top:0,left:0},revealAppendedDelay:300,keepSorted:!0,enabled:!0,destroyed:!1,styleQueue:[],prefixed:t.prefixed,threeD:t.csstransforms3d},d.fn.shuffle=function(i){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=d(this),e=t.data("shuffle");e||(e=new s(t,i),t.data("shuffle",e)),"string"==typeof i&&e[i]&&e[i].apply(e,n)})}}(jQuery,Modernizr);