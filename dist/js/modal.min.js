!function(d){var r=0,u=0,t={init:function(l){var o={opacity:.5,inDuration:350,outDuration:250,ready:void 0,complete:void 0,dismissible:!0,startingTop:"4%",endingTop:"10%"};return l=d.extend(o,l),this.each(function(){function s(){var o=c.data("overlay-id"),t=d("#"+o);c.removeClass("open"),d("body").css({overflow:"",width:""}),c.find(".modal-close").off("click.close"),d(document).off("keyup.modal"+o),t.velocity({opacity:0},{duration:l.outDuration,queue:!1,ease:"easeOutQuart"});var e={duration:l.outDuration,queue:!1,ease:"easeOutCubic",complete:function(){d(this).css({display:"none"}),"function"==typeof l.complete&&l.complete.call(this,c),t.remove(),r--}};c.hasClass("bottom-sheet")?c.velocity({bottom:"-100%",opacity:0},e):c.velocity({top:l.startingTop,opacity:0,scaleX:.7},e)}function t(o){var t=d("body"),e=t.innerWidth();if(t.css("overflow","hidden"),t.width(e),!c.hasClass("open")){var i="materialize-modal-overlay-"+ ++u,a=d('<div class="modal-overlay"></div>');lStack=++r,a.attr("id",i).css("z-index",1e3+2*lStack),c.data("overlay-id",i).css("z-index",1e3+2*lStack+1),c.addClass("open"),d("body").append(a),l.dismissible&&(a.click(function(){s()}),d(document).on("keyup.modal"+i,function(o){27===o.keyCode&&s()})),c.find(".modal-close").on("click.close",function(o){s()}),a.css({display:"block",opacity:0}),c.css({display:"block",opacity:0}),a.velocity({opacity:l.opacity},{duration:l.inDuration,queue:!1,ease:"easeOutCubic"}),c.data("associated-overlay",a[0]);var n={duration:l.inDuration,queue:!1,ease:"easeOutCubic",complete:function(){"function"==typeof l.ready&&l.ready.call(this,c,o)}};c.hasClass("bottom-sheet")?c.velocity({bottom:"0",opacity:1},n):(d.Velocity.hook(c,"scaleX",.7),c.css({top:l.startingTop}),c.velocity({top:l.endingTop,opacity:1,scaleX:"1"},n))}}var c=d(this),o=d(this).attr("id")||"#"+d(this).data("target");d(document).off("click.modalTrigger",'a[href="#'+o+'"], [data-target="'+o+'"]'),d(this).off("openModal"),d(this).off("closeModal"),d(document).on("click.modalTrigger",'a[href="#'+o+'"], [data-target="'+o+'"]',function(o){l.startingTop=(d(this).offset().top-d(window).scrollTop())/1.15,t(d(this)),o.preventDefault()}),d(this).on("openModal",function(){d(this).attr("href")||d(this).data("target");t()}),d(this).on("closeModal",function(){s()})})},open:function(){d(this).trigger("openModal")},close:function(){d(this).trigger("closeModal")}};d.fn.modal=function(o){return t[o]?t[o].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof o&&o?void d.error("Method "+o+" does not exist on jQuery.modal"):t.init.apply(this,arguments)}}(jQuery);