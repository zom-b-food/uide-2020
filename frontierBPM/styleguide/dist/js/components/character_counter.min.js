!function(r){function a(){var t=+r(this).attr("data-length"),a=+r(this).val().length,n=a<=t;r(this).parent().find('span[class="character-counter"]').html(a+"/"+t),function(t,a){var n=a.hasClass("invalid");t&&n?a.removeClass("invalid"):t||n||(a.removeClass("valid"),a.addClass("invalid"))}(n,r(this))}function n(){r(this).parent().find('span[class="character-counter"]').html("")}r.fn.characterCounter=function(){return this.each(function(){var t=r(this);t.parent().find('span[class="character-counter"]').length||void 0!==t.attr("data-length")&&(t.on("input",a),t.on("focus",a),t.on("blur",n),function(t){var a=t.parent().find('span[class="character-counter"]');if(a.length)return;a=r("<span/>").addClass("character-counter").css("float","right").css("font-size","12px").css("height",1),t.parent().append(a)}(t))})},r(document).ready(function(){r("input, textarea").characterCounter()})}(jQuery);