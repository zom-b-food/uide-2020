!function(i){i.fn.countdown=function(e,t){thisEl=i(this);var s={date:null,format:null};function n(){eventDate=Date.parse(s.date)/1e3,currentDate=Math.floor(i.now()/1e3),eventDate<=currentDate&&(t.call(this),clearInterval(interval)),seconds=eventDate-currentDate,days=Math.floor(seconds/86400),seconds-=60*days*60*24,hours=Math.floor(seconds/3600),seconds-=60*hours*60,minutes=Math.floor(seconds/60),seconds-=60*minutes,1==days?thisEl.find(".timeRefDays").text("day"):thisEl.find(".timeRefDays").text("days"),1==hours?thisEl.find(".timeRefHours").text("hour"):thisEl.find(".timeRefHours").text("hours"),1==minutes?thisEl.find(".timeRefMinutes").text("minute"):thisEl.find(".timeRefMinutes").text("minutes"),1==seconds?thisEl.find(".timeRefSeconds").text("second"):thisEl.find(".timeRefSeconds").text("seconds"),"on"==s.format&&(days=2<=String(days).length?days:"0"+days,hours=2<=String(hours).length?hours:"0"+hours,minutes=2<=String(minutes).length?minutes:"0"+minutes,seconds=2<=String(seconds).length?seconds:"0"+seconds),isNaN(eventDate)?(alert("Invalid date. Here's an example: 12 Tuesday 2012 17:30:00"),clearInterval(interval)):(thisEl.find(".days").text(days),thisEl.find(".hours").text(hours),thisEl.find(".minutes").text(minutes),thisEl.find(".seconds").text(seconds))}e&&i.extend(s,e),n(),interval=setInterval(n,1e3)}}(jQuery);