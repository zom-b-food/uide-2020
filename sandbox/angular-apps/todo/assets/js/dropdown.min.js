!function(b){b.fn.scrollTo=function(t){return b(this).scrollTop(b(this).scrollTop()-b(this).offset().top+b(t).offset().top),this},b.fn.dropdown=function(t){var i={inDuration:300,outDuration:225,constrainWidth:!0,hover:!1,gutter:0,belowOrigin:!1,alignment:"left",stopPropagation:!1};return"open"===t?(this.each(function(){b(this).trigger("open")}),!1):"close"===t?(this.each(function(){b(this).trigger("close")}),!1):void this.each(function(){var f=b(this),p=b.extend({},i,t),g=!1,v=b("#"+f.attr("data-activates"));function w(){void 0!==f.data("induration")&&(p.inDuration=f.data("induration")),void 0!==f.data("outduration")&&(p.outDuration=f.data("outduration")),void 0!==f.data("constrainwidth")&&(p.constrainWidth=f.data("constrainwidth")),void 0!==f.data("hover")&&(p.hover=f.data("hover")),void 0!==f.data("gutter")&&(p.gutter=f.data("gutter")),void 0!==f.data("beloworigin")&&(p.belowOrigin=f.data("beloworigin")),void 0!==f.data("alignment")&&(p.alignment=f.data("alignment")),void 0!==f.data("stoppropagation")&&(p.stopPropagation=f.data("stoppropagation"))}function o(t){"focus"===t&&(g=!0),w(),v.addClass("active"),f.addClass("active"),!0===p.constrainWidth?v.css("width",f.outerWidth()):v.css("white-space","nowrap");var i=window.innerHeight,o=f.innerHeight(),n=f.offset().left,e=f.offset().top-b(window).scrollTop(),a=p.alignment,r=0,s=0,d=0;!0===p.belowOrigin&&(d=o);var c=0,u=0,l=f.parent();if(l.is("body")||(l[0].scrollHeight>l[0].clientHeight&&(c=l[0].scrollTop),l[0].scrollWidth>l[0].clientWidth&&(u=l[0].scrollLeft)),n+v.innerWidth()>b(window).width()?a="right":n-v.innerWidth()+f.innerWidth()<0&&(a="left"),e+v.innerHeight()>i)if(e+o-v.innerHeight()<0){var h=i-e-d;v.css("max-height",h)}else d||(d+=o),d-=v.innerHeight();if("left"===a)r=p.gutter,s=f.position().left+r;else if("right"===a){s=f.position().left+f.outerWidth()-v.outerWidth()+(r=-p.gutter)}v.css({position:"absolute",top:f.position().top+d+c,left:s+u}),v.stop(!0,!0).css("opacity",0).slideDown({queue:!1,duration:p.inDuration,easing:"easeOutCubic",complete:function(){b(this).css("height","")}}).animate({opacity:1},{queue:!1,duration:p.inDuration,easing:"easeOutSine"}),setTimeout(function(){b(document).bind("click."+v.attr("id"),function(t){m(),b(document).unbind("click."+v.attr("id"))})},0)}function m(){g=!1,v.fadeOut(p.outDuration),v.removeClass("active"),f.removeClass("active"),b(document).unbind("click."+v.attr("id")),setTimeout(function(){v.css("max-height","")},p.outDuration)}if(w(),f.after(v),p.hover){var n=!1;f.unbind("click."+f.attr("id")),f.on("mouseenter",function(t){!1===n&&(o(),n=!0)}),f.on("mouseleave",function(t){var i=t.toElement||t.relatedTarget;b(i).closest(".dropdown-content").is(v)||(v.stop(!0,!0),m(),n=!1)}),v.on("mouseleave",function(t){var i=t.toElement||t.relatedTarget;b(i).closest(".dropdown-button").is(f)||(v.stop(!0,!0),m(),n=!1)})}else f.unbind("click."+f.attr("id")),f.bind("click."+f.attr("id"),function(t){g||(f[0]!=t.currentTarget||f.hasClass("active")||0!==b(t.target).closest(".dropdown-content").length?f.hasClass("active")&&(m(),b(document).unbind("click."+v.attr("id"))):(t.preventDefault(),p.stopPropagation&&t.stopPropagation(),o("click")))});f.on("open",function(t,i){o(i)}),f.on("close",m)})},b(document).ready(function(){b(".dropdown-button").dropdown()})}(jQuery);