!function(l){"use strict";var e=function(i,t){this.$element=l(i),this.$children=this.$element.children(),this.options=l.extend({},e.DEFAULTS,t),this._time=e.TRANSITION_DURATION*this.options.speed,this.init(),!0===this.options.debug&&this._debug()};function a(a){return this.each(function(){var i=l(this),t=i.data("zmd.hierarchicalDisplay"),n=l.extend({},e.DEFAULTS,i.data(),"object"==typeof a&&a);return t||i.data("zmd.hierarchicalDisplay",t=new e(this,n)),"string"==typeof a?t[a]():n.action in t?t[n.action]():void 0})}e.VERSION="1.0.1",e.TRANSITION_DURATION=300,e.DEFAULTS={action:"show",speed:5,animationIn:"zoomedIn",animationOut:"zoomedOut",debug:!1},e.prototype.init=function(){var i,t,n,a=this,e=this.$element,o=this.$children,s=this.options,h=this._time;e.addClass("zmd-hierarchical-display"),o.each(function(){i=l(this).position(),t=.8*i.left+i.top,n=parseFloat(t/h).toFixed(2),l(this).css("-webkit-animation-delay",n+"s").css("animation-delay",n+"s")}),this._delay=n,o.last().on("webkitAnimationEnd animationend",function(){l(this).hasClass(s.animationOut)&&a._complete("hidden"),l(this).hasClass(s.animationIn)&&a._complete("shown")})},e.prototype.show=function(){var i=this.$element,t=(this.$children,this.options);i.hasClass("in")||i.hasClass("zmd-hierarchical-displaying")||(this._removeAnimations(),i.trigger(l.Event("show.zmd.hierarchicalDisplay")),this._addAnimation(t.animationIn))},e.prototype.hide=function(){var i=this.$element,t=(this.$children,this.options);"hidden"===i.css("visibility")||i.hasClass("zmd-hierarchical-displaying")||(this._removeAnimations(),i.trigger(l.Event("hide.zmd.hierarchicalDisplay")),this._addAnimation(t.animationOut))},e.prototype.toggle=function(){return this.$element.hasClass("in")?this.hide():this.show()},e.prototype._removeAnimations=function(){var i=this.options;this.$children.each(function(){l(this).removeClass(i.animationIn).removeClass(i.animationOut)})},e.prototype._addAnimation=function(i){this.$element.addClass("zmd-hierarchical-displaying"),this.$children.each(function(){l(this).addClass(i).addClass("animation")})},e.prototype._complete=function(i){this.$element.removeClass("zmd-hierarchical-displaying").toggleClass("in").trigger(l.Event(i+".zmd.hierarchicalDisplay"))},e.prototype._debug=function(){l(document).on("show.zmd.hierarchicalDisplay",function(i){console.log('Event "show.zmd.hierarchicalDisplay". For more information see:'),console.log(i)}).on("shown.zmd.hierarchicalDisplay",function(i){console.log('Event "shown.zmd.hierarchicalDisplay". For more information see:'),console.log(i)}).on("hide.zmd.hierarchicalDisplay",function(i){console.log('Event "hide.zmd.hierarchicalDisplay". For more information see:'),console.log(i)}).on("hidden.zmd.hierarchicalDisplay",function(i){console.log('Event "hidden.zmd.hierarchicalDisplay". For more information see:'),console.log(i)})},l.fn.hierarchicalDisplay=a,l.fn.hierarchicalDisplay.Constructor=e,l(document).on("ready",function(){l('[data-animation="hierarchical-display"]').each(function(){a.call(l(this))})}),l(document).on("click",'[data-toggle="hierarchical-display"]',function(i){var t=l(this),n=l(t.attr("data-target")||t.attr("href"));t.is("a")&&i.preventDefault(),a.call(n,"toggle")})}(jQuery);