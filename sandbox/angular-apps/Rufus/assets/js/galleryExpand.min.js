!function(Ct){var e={init:function(kt){kt=Ct.extend({inDuration:300,outDuration:200,responsiveThreshold:992,contentPadding:40,onShow:null,defaultColor:"#444",primaryColor:"",secondaryColor:"",fillScreen:!1,dynamicRouting:!1},kt);var n=window.location.hash.substring(1);return this.each(function(t){var x,E,T,M,R,H,B,I,S,A,O,z,D,L,P,Q,Y,j,F,X,_,q,G,J=!0,K=!1,N=!1,U=!0,V=Ct(this),W=V.attr("id")||t.toString(),Z=V.find(".gallery-cover"),$=V.find(".gallery-header"),tt=V.find(".gallery-curve-wrapper"),et=V.find(".gallery-body"),nt=V.find(".gallery-action"),it=parseInt(Ct(this).attr("data-in-duration"))||kt.inDuration,r=parseInt(Ct(this).attr("data-out-duration"))||kt.outDuration,rt=parseInt(Ct(this).attr("data-responsive-threshold"))||kt.responsiveThreshold,at=parseInt(Ct(this).attr("data-content-padding"))||kt.contentPadding,ot=Ct(this).attr("data-primary-color")||kt.primaryColor,st=Ct(this).attr("data-secondary-color")||kt.secondaryColor,lt=!!Z.length&&(Ct(this).attr("data-fill-screen")||kt.fillScreen),dt=Ct(this).attr("data-dynamic-routing")||kt.dynamicRouting,ct=Ct(this).hasClass("gallery-horizontal"),ht=!1,ft=64,gt=".btn, .btn-large, .btn-floating",pt=at,ut="cubic-bezier(0.420, 0.000, 0.580, 1.000)",vt=Ct(document).width(),mt=window.innerHeight,yt=!1;(E=V.children(".placeholder").first()).length||(V.wrapInner(Ct('<div class="placeholder"></div>')),E=V.children(".placeholder").first()),$.length||($=Ct('<div class="gallery-header invisible"></div>'),Z.length?Z.after($):tt.append($));var wt=Z.find(".gradient").first();lt&&(wt.length||(wt=Ct('<div class="gradient"></div>'),Z.append(wt)),V.attr("data-fillscreen",!0));var e=function(){Z=V.find(".gallery-cover"),$=V.find(".gallery-header"),tt=V.find(".gallery-curve-wrapper"),et=V.find(".gallery-body"),nt=V.find(".gallery-action"),E=V.find(".placeholder")};function bt(){if(K){K=!1,dt&&(window.location.hash="!");var n=!U;window.clearTimeout(_),_=null,et.stop(),U=!0,P=void 0;var i=Ct("#placeholder-overlay").first();i.off("click.galleryExpand").off("mouseenter.galleryExpand").off("mouseleave.galleryExpand"),E.scrollTop(0),E.attr("style",q.attr("style")),Z.css("left",q.find(".gallery-cover").css("left")).removeClass("static hover"),e(),Ct("body").css("overflow",""),E.css("overflowY",""),i.css({transition:"none",opacity:.9}),$.show(),setTimeout(function(){if(Ct(window).off("resize",X),V.find(".gallery-body").css("display","none"),nt&&nt.find(gt).removeClass("active"),Ct("nav").removeClass("fadeOut"),Ct("#placeholder-navbar").fadeOut(r,"easeInQuad",function(){Ct(this).remove()}),N=!1,i.fadeOut(r,"easeInQuad",function(){Ct(this).remove()}),!n){V.css({width:T,height:M,transform:"translate3d(0,0,0)",transition:"transform "+r/1e3+"s "+ut,"-webkit-transition":"-webkit-transform "+r/1e3+"s "+ut});var t=O.top-ft-pt;tt.css({transform:"translate3d(0, "+t+"px, 0)",transition:"transform "+r/1e3+"s","-webkit-transition":"-webkit-transform "+r/1e3+"s"});var e={};ht&&lt?(e.width=S,e.height=A,e.transform="translate3d("+O.left+"px, "+pt+"px, 0)",e.transition="transform "+r/1e3+"s, width "+r/1e3+"s, height "+r/1e3+"s",e["-webkit-transition"]="-webkit-transform "+r/1e3+"s, width "+r/1e3+"s, height "+r/1e3+"s",wt.css({background:""})):(e.transform="translate3d("+(O.left-F-pt)+"px, 0, 0)",e.transition="transform "+r/1e3+"s "+ut,e["-webkit-transition"]="-webkit-transform "+r/1e3+"s "+ut),Z.css(e),$.css({transform:"translate3d("+R.left+"px,"+I+"px,0)",transition:"transform "+r/1e3+"s","-webkit-transition":"-webkit-transform "+r/1e3+"s"})}_=setTimeout(function(){E.removeAttr("style"),V.css({width:"",height:"",overflow:"","z-index":"",transform:"",transition:"","-webkit-transition":""}),Z.removeAttr("style").attr("style",G),tt.removeAttr("style"),$.removeAttr("style"),$.children().removeAttr("style"),et.find(".title-wrapper").css({marginTop:"",marginLeft:"",paddingLeft:"",height:""}),V.removeClass("active"),J=!0,Ct(".gallery").data("masonry")&&Ct(".gallery").masonry("layout")},r)},0)}}V.off("click.galleryExpand").on("click.galleryExpand",function(t){if(J){var e=Ct(t.target);if(!e.attr("data-stop-propagation")&&!e.closest('[data-stop-propagation="true"]').length){var r,a,o,s,l;J=!1,window.clearTimeout(_),_=null,origContainerRect=V[0].getBoundingClientRect(),T=origContainerRect.width,M=V.height(),R=$[0].getBoundingClientRect(),H=R.width,B=R.height||1,S=Z.width(),A=Z.height(),O=Z.length?Z[0].getBoundingClientRect():{top:R.top,left:0},Ct(window).scrollTop(),dt&&(window.location.hash=W);var n=function(){vt=Ct(document).width(),mt=window.innerHeight,x=vt<=rt,ht=vt/2<S||lt,yt=document.body.scrollHeight>document.body.clientHeight;var t=document.body.currentStyle||window.getComputedStyle(document.body,"");if(yt=yt&&("visible"==t.overflow||"visible"==t.overflowY||"auto"==t.overflow||"auto"==t.overflowY),ft=x?56:64,L=-V[0].getBoundingClientRect().top,P=void 0===P?-E[0].getBoundingClientRect().left:P+-E[0].getBoundingClientRect().left,pt=x?20:at,Q=Math.round(A/2+pt+ft),a=.7*vt,o=mt-(r=A/2-pt)-ft,F=Math.max((vt-a)/2,pt),x&&(a=vt,F=0),ht)if(lt){var e=Z.children("img").first(),n=imgHeight=1/0;if(e.length){var i=e[0].getBoundingClientRect();n=i.width,imgHeight=i.height}z=Math.min(vt,n),D=Math.min(mt-ft,imgHeight),Q=x?Math.round((mt-ft)/2):Math.round(3*pt+ft),r=D-Q+ft,o=mt-Q}else{D=(z=vt/2)/(T/M),Q=Math.round(D/2)+pt+ft,o=mt-(r=D/2+pt)-ft}s=a/H,l=o/B};if(n(),q=E.clone(!0),Ct("body").css("overflowX","hidden"),Ct("body").on("scroll.disable-scroll mousewheel.disable-scroll touchmove.disable-scroll",function(t){return t.preventDefault(),t.stopPropagation(),!1}),V.css({height:M,width:T}),Z.length){G=Z.attr("style");var i="translate3d(";lt?i+=O.left+"px, "+pt+"px, 0)":(Z.css({left:F+pt,top:pt}),i+=O.left-F-pt+"px, 0, 0)"),Z.css({height:A,width:S,transform:i})}var d=O.top-ft-pt;tt.css({display:"block",transform:"translate3d(0, "+d+"px, 0)"}),I=ct?pt-B:pt,$.css({height:B,width:H,transform:"translate3d("+R.left+"px,"+I+"px,0)"}),E.css({height:mt,width:vt,transform:"translate3d("+Math.round(P)+"px, "+Math.round(L)+"px, 0)"}),V.addClass("active"),"absolute"!==V.css("position")&&V.css({position:"relative"}),U=!(N=!0);var c=Ct("#placeholder-overlay");c.length||(c=Ct('<div id="placeholder-overlay"></div>'),E.prepend(c)),c.off("click.galleryExpand").on("click.galleryExpand",function(){bt()}),lt&&c.off("mouseenter.galleryExpand").off("mouseleave.galleryExpand").on("mouseenter.galleryExpand",function(){Z.addClass("hover")}).on("mouseleave.galleryExpand",function(){Z.removeClass("hover")}),setTimeout(function(){c.addClass("visible")},0);var h=Ct('<nav id="placeholder-navbar"></nav>'),f=Ct('<div class="nav-wrapper"></div>'),g=Ct('<div class="container"></div>'),p=Ct('<button class="back-btn"><i class="material-icons">arrow_back</i><span>Back</span></button>'),u="";if(Ct("nav").length&&(u=Ct("nav").css("background-color"),Ct("nav").addClass("fadeOut")),h.css({"background-color":u}),g.append(p),f.append(g),h.append(f),E.prepend(h),p.click(function(){bt()}),"undefined"!=typeof ColorThief&&Z.length){Y=new ColorThief,(m=new Image).onload=function(){Y.getColor(m)},m.crossOrigin="Anonymous",m.src=V.find("img").attr("src");try{j=Y.getPalette(V.find("img")[0],2),ot=ot||"rgb("+j[0][0]+","+j[0][1]+","+j[0][2]+")",st=st||"rgb("+j[1][0]+","+j[1][1]+","+j[1][2]+")",h.css({backgroundColor:st})}catch(t){console.log("Cross Origin error. Falling back to defaultColor. Try using a locally hosted image",t);var v=Ct("body").children("canvas:last-child");if(v.length){var m,y=imgHeight=0;if((m=Z.children("img").first()).length){var w=m[0].getBoundingClientRect();y=Math.round(w.width),imgHeight=Math.round(w.height)}v[0].getContext("2d").canvas.width===y&&v[0].getContext("2d").canvas.height===imgHeight&&v.remove()}}}ot=ot||kt.defaultColor,c.css({backgroundColor:ot}),lt&&wt.length&&wt.css({background:"linear-gradient(to bottom, rgba(0,0,0,0) 0%, "+ot+" 100%)"});var b={transform:""};if(b.transition="transform "+it/1e3+"s",b["-webkit-transition"]="-webkit-transform "+it/1e3+"s",ht)if(lt){b.width=z,b.height=D,b.transition="transform "+it/1e3+"s, width "+it/1e3+"s, height "+it/1e3+"s",b["-webkit-transition"]="-webkit-transform "+it/1e3+"s, width "+it/1e3+"s, height "+it/1e3+"s";z<vt&&(b.transform="scale("+vt/z+")")}else b.transform="scale("+z/S+")";Z.css(b),tt.css({height:mt,transition:"transform "+it/1e3+"s "+ut,"-webkit-transition":"-webkit-transform "+it/1e3+"s "+ut,transform:""}),$.children().css("opacity",0);var k,C;k=F/s,C=-r/l,ht&&!lt&&(C=(r-A)/l),$.css({transition:"transform "+it/1e3+"s "+ut,"-webkit-transition":"-webkit-transform "+it/1e3+"s "+ut,transform:"scale("+s+","+l+") translate3d("+k+"px,"+C+"px,0)",transformOrigin:"0 0"}),et.length&&(et.css({marginTop:Q,padding:pt,minHeight:mt-Q}),!lt&&Z.length&&(x?et.find(".title-wrapper").css({marginTop:Q/2}):et.find(".title-wrapper").css({marginLeft:S,paddingLeft:pt,height:r}))),nt.length&&(nt.css({top:Q}),nt.find(gt).each(function(){Ct(this).css({backgroundColor:st})})),X=Materialize.throttle(function(){n()},150),Ct(window).resize(X),_=setTimeout(function(){nt.length&&nt.find(gt).each(function(){Ct(this).addClass("active")});var t=function(){q=E.clone(!0),E.css({transform:"",position:"fixed",width:"100%",height:"100%",top:0,left:0,overflow:"auto"}),yt&&(Ct("body").css("overflow","hidden"),E.css("overflowY","scroll")),Ct("body").off("scroll.disable-scroll mousewheel.disable-scroll touchmove.disable-scroll"),tt.css({height:"100%"}),lt?Z.css({width:"",height:"",transform:"",transition:"opacity .3s"}):Z.css({left:pt}),Z.addClass("static"),$.hide()};et.length?et.fadeIn(300,function(){t()}):t(),K=U=!0,"function"==typeof kt.onShow&&kt.onShow.call(this,V)},it)}}}),Ct(document).keyup(function(t){27===t.keyCode&&N&&bt()}),dt&&n===W&&V.trigger("click.galleryExpand")})},open:function(){Ct(this).trigger("click.galleryExpand")},close:function(){var t=Ct("#placeholder-overlay");t.length&&t.trigger("click.galleryExpand")}};Ct.fn.galleryExpand=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void Ct.error("Method "+t+" does not exist on jQuery.galleryExpand"):e.init.apply(this,arguments)}}(jQuery);